clc, clear
b=zeros(10);
b(1,[2 7])=1; b(2,5)=1; b(3,[2 6])=1; b(4,1)=1;
b(5,[6 7])=1; b(6,10)=1; b(7,[2 4])=1;
b(8,[5 7])=1; b(9,7)=1; b(10,[8 9])=1;
r=sum(b,2); n=length(b);
for i=1:n
    for j=1:n
        A(i,j)=0.15/n+0.85*b(i,j)/r(i);  %构造状态转移矩阵
    end
end
A %显示状态转移矩阵
[x,y]=eigs(A',1); %求最大特征值对应的特征向量
x=x/sum(x) %特征向量归一化
bar(x) %画PageRank值的柱状图
