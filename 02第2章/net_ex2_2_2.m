clc, clear
format  rat  %有理分数的数据格式
a=zeros(6); %邻接矩阵初始化
a(1,[2 3])=1; a(2,[3:5])=1; %输入邻接矩阵的上三角元素
a(3,5)=1; a(4,[5 6])=1;
a=a+a'; %构造完整的邻接矩阵
n=length(a);
b3=a^3; b33=b3(1:n+1:end); %提出对角线元素
b2=a^2; b22=b2(1:n+1:end); %提出对角线元素
c=b33./(b22.*(b22-1));
c(isnan(c))=0 %把分母为0的不确定值替换成0
TC=mean(c) %求整个网络的聚类系数
